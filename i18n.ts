import type { App } from "obsidian";

export type LocaleCode = "en" | "zh-CN" | "zh-TW" | "ja" | "ko";
export type TranslationVars = Record<string, string | number>;

const en = {
	"statusBar.text": "Dinox",
	"statusBar.ariaLabel": "Dinox Sync status",
	"statusBar.syncing": "Dinox: Syncing...",
	"command.syncAll": "Synchronize Dinox notes now",
	"command.resetSync": "Reset Dinox sync (fetch all next time)",
	"command.syncToLocal": "Sync Dinox notes to local",
	"command.syncCurrentNote": "Sync current note to Dinox",
	"command.createNote": "Create current note in Dinox",
	"command.openDailyNote": "Open today's Dinox daily note",
	"menu.sendSelection": "Send \"{selection}\" to Dinox",
	"menu.create": "Create in Dinox",
	"menu.syncCurrent": "Sync this note to Dinox",
	"notice.syncInProgress": "Dinox: Sync already in progress.",
	"notice.tokenMissing": "Dinox: Please set your Dinox token in settings.",
	"notice.syncStarting": "Dinox: Starting sync...",
	"notice.syncComplete": "Dinox: Sync complete!\nProcessed: {processed}, Deleted: {deleted}",
	"notice.syncFailed": "Dinox: Sync failed!\n{error}",
	"notice.syncReset": "Dinox: Sync reset. Next sync will fetch all notes.",
	"notice.syncCommandFailed": "Dinox: Sync failed - {error}",
	"notice.processNoteFailed": "Failed to process Dinox note {noteId}…",
	"notice.selectionSending": "Dinox: Sending selection...",
	"notice.selectionSent": "Dinox: Content sent successfully.",
	"notice.selectionSendFailed": "Dinox: Failed to send - {message}",
	"notice.selectionSendError": "Dinox: Error sending - {error}",
	"notice.creatingNote": "Dinox: Creating note in Dinox...",
	"notice.createAlreadyHasId": "Dinox: This note already has a noteId. Skipping create.",
	"notice.createSuccess": "Dinox: Note created successfully (ID: {noteId}…)",
	"notice.createFailed": "Dinox: Failed to create note - {message}",
	"notice.createError": "Dinox: Error creating note - {error}",
	"notice.frontmatterError": "Dinox: Error updating frontmatter - {error}",
	"notice.syncingNote": "Dinox: Syncing note to Dinox...",
	"notice.syncNoId": "Dinox: Cannot sync. noteId or source_app_id was not found in the frontmatter.",
	"notice.syncNoteSuccess": "Dinox: Note {noteId}… synced successfully.",
	"notice.syncNoteFailed": "Dinox: Failed to sync note - {message}",
	"notice.syncNoteError": "Dinox: Error syncing note - {error}",
	"notice.autoSyncEnabled": "Dinox: Auto sync enabled.",
	"notice.autoSyncDisabled": "Dinox: Auto sync disabled.",
	"notice.dailyNotesDisabled": "Dinox: Daily notes integration is disabled.",
	"notice.dailyNotesPluginDisabled": "Dinox: Enable the core Daily Notes plugin to use this feature.",
	"notice.dailyNotesUpdateFailed": "Dinox: Failed to update the daily note section.",
	"notice.dailyNotesUpdated": "Dinox: Updated {count} daily note(s).",
	"notice.dailyNotesMissingFile": "Dinox: Daily note not found and auto-create is disabled.",
	"notice.dailyNoteOpenFailed": "Dinox: Unable to open the daily note.",
	"notice.resetDone": "Dinox last sync time has been reset.",
	"notice.invalidIgnoreKeyReverted": "Invalid ignore key. Reverted to default.",
	"notice.invalidIgnoreKeySpaces": "Invalid ignore key: cannot contain spaces.",
	"notice.typeFoldersSame": "Dinox: Note and material folders must be different.",
	"notice.typeFoldersInvalidReverted": "Dinox: Invalid folder name. Reverted to default.",
	"notice.typeFoldersTemplateMissing": "Dinox: Type-based folders is enabled, but your template does not include {{type}}. Crawl notes may be stored under note.",
	"notice.hotkeySet": "Dinox: Hotkey set to {hotkey}.",
	"notice.hotkeyCleared": "Dinox: Hotkey cleared.",
	"common.unknownError": "Unknown error",
	"settings.title": "Dinox Sync Settings",
	"settings.token.name": "Dinox Token",
	"settings.token.desc": "API token generated in the Dinox application.",
	"settings.token.placeholder": "Enter your Dinox token",
	"settings.dir.name": "Sync Directory",
	"settings.dir.desc": "Base folder in your vault for synced notes.",
	"settings.dir.placeholder": "e.g., Dinox Notes",
	"settings.filenameHeading": "File naming & organization",
	"settings.filename.name": "Filename Format",
	"settings.filename.desc": "Choose how synced files are named.",
	"settings.filename.optionId": "Note ID (recommended)",
	"settings.filename.optionTitle": "Note title (sanitized)",
	"settings.filename.optionTime": "Creation time (YYYY-MM-DD HHmmss)",
	"settings.filename.optionTitleDate": "Title + Create date (YYYY-MM-DD)",
	"settings.filename.optionTemplate": "Custom template",
	"settings.filename.template.name": "Filename template",
	"settings.filename.template.desc": "Use variables like {{title}}, {{createDate}} (YYYY-MM-DD), {{createTime}} (HHmmss), {{noteId}}.",
	"settings.filename.template.placeholder": "e.g., {{title}} ({{createDate}})",
	"settings.layout.name": "File Layout",
	"settings.layout.desc": "Organize synced notes.",
	"settings.layout.optionNested": "Nested (BaseDir/YYYY-MM-DD/file.md)",
	"settings.layout.optionFlat": "Flat (BaseDir/file.md)",
	"settings.ignoreKey.name": "Ignore sync property key",
	"settings.ignoreKey.desc": "Frontmatter key set to true to skip updates.",
	"settings.preserveKeys.name": "Preserve property keys",
	"settings.preserveKeys.desc": "Comma-separated keys to keep from the existing note.",
	"settings.preserveKeys.placeholder": "e.g., tags, aliases, status, project",
	"settings.template.name": "Content template (sent to API)",
	"settings.template.desc": "Template forwarded to the Dinox API when requesting notes.",
	"settings.autoSync.name": "Enable auto sync",
	"settings.autoSync.desc": "Automatically sync every 30 minutes while Obsidian is open.",
	"settings.section.typeFolders": "Type-based folders",
	"settings.typeFolders.enable.name": "Split by type",
	"settings.typeFolders.enable.desc": "Store synced notes into different subfolders based on the Dinox note type field.",
	"settings.typeFolders.note.name": "Note folder",
	"settings.typeFolders.note.desc": "Subfolder under the sync directory for type note (empty/\"note\").",
	"settings.typeFolders.material.name": "Material folder",
	"settings.typeFolders.material.desc": "Subfolder under the sync directory for type crawl.",
	"settings.section.zettelBoxFolders": "Zettel box folders",
	"settings.zettelBoxFolders.enable.name": "Group by zettel box",
	"settings.zettelBoxFolders.enable.desc": "Store synced notes into subfolders based on the first zettel box name (zettelboxexes[0].name).",
	"settings.section.dailyNotes": "Daily notes",
	"settings.dailyNotes.enable.name": "Enable daily note integration",
	"settings.dailyNotes.enable.desc": "Append synced Dinox notes into the core Daily Notes page.",
	"settings.dailyNotes.heading.name": "Section heading",
	"settings.dailyNotes.heading.desc": "Heading inserted above the Dinox block in each daily note.",
	"settings.dailyNotes.position.name": "Insert position",
	"settings.dailyNotes.position.desc": "Decide where new entries appear inside the managed section.",
	"settings.dailyNotes.position.top": "Top (newest first)",
	"settings.dailyNotes.position.bottom": "Bottom (oldest first)",
	"settings.dailyNotes.linkStyle.name": "Link style",
	"settings.dailyNotes.linkStyle.desc": "Choose between bullet links or embedded notes.",
	"settings.dailyNotes.linkStyle.wikilink": "Bullet list with wiki links",
	"settings.dailyNotes.linkStyle.embed": "Embed each note",
	"settings.dailyNotes.preview.name": "Show preview line",
	"settings.dailyNotes.preview.desc": "Add the first non-empty line under each entry as a quote.",
	"settings.dailyNotes.create.name": "Create note if missing",
	"settings.dailyNotes.create.desc": "Auto-create the daily note using the configured template when absent.",
	"settings.section.hotkeys": "Hotkeys",
	"settings.hotkeys.syncAll.name": "Manual sync command",
	"settings.hotkeys.syncAll.desc": "Runs “Synchronize Dinox notes now”. Example: Mod+Shift+T.",
	"settings.hotkeys.syncCurrent.name": "Sync current note command",
	"settings.hotkeys.syncCurrent.desc": "Sends the active note to Dinox. Example: Mod+Shift+K.",
	"settings.hotkeys.create.name": "Create note in Dinox command",
	"settings.hotkeys.create.desc": "Creates a remote note when the current file has no noteId. Example: Mod+Shift+C.",
	"settings.hotkeys.notSet": "Not set",
	"settings.hotkeys.prompt": "Press shortcut… (Esc to cancel)",
	"settings.hotkeys.setButton": "Set",
	"settings.hotkeys.clearButton": "Clear",
	"settings.hotkeys.setTooltip": "Capture a shortcut",
	"settings.hotkeys.clearTooltip": "Remove this shortcut",
	"settings.section.advanced": "Advanced",
	"settings.advanced.reset.name": "Reset sync state",
	"settings.advanced.reset.desc": "Clears the last sync time so the next run fetches all notes.",
	"settings.advanced.resetButton": "Reset sync time",
	"settings.advanced.confirm": "Reset the Dinox last sync time? The next sync will fetch all notes.",
	"settings.advanced.preset.yesterday": "Yesterday",
	"settings.advanced.preset.threeDays": "3 days ago",
	"settings.advanced.preset.oneWeek": "1 week ago",
	"settings.advanced.preset.oneMonth": "1 month ago",
	"settings.advanced.preset.start": "Beginning of time",
} as const;

export type TranslationKey = keyof typeof en;
type TranslationRecord = { [K in TranslationKey]: string };

const createTranslation = (values: TranslationRecord): TranslationRecord =>
	values;

const zhCN = createTranslation({
	"statusBar.text": "Dinox",
	"statusBar.ariaLabel": "Dinox 同步状态",
	"statusBar.syncing": "Dinox：正在同步…",
	"command.syncAll": "立即同步 Dinox 笔记",
	"command.resetSync": "重置 Dinox 同步（下次全量获取）",
	"command.syncToLocal": "将 Dinox 笔记同步到本地",
	"command.syncCurrentNote": "同步当前笔记到 Dinox",
	"command.createNote": "将当前笔记创建到 Dinox",
	"command.openDailyNote": "打开今日 Dinox 日记",
	"menu.sendSelection": "发送“{selection}”到 Dinox",
	"menu.create": "在 Dinox 中创建",
	"menu.syncCurrent": "将此笔记同步到 Dinox",
	"notice.syncInProgress": "Dinox：同步已在进行中。",
	"notice.tokenMissing": "Dinox：请先在设置中配置令牌。",
	"notice.syncStarting": "Dinox：正在开始同步…",
	"notice.syncComplete": "Dinox：同步完成！\n已处理：{processed}，已删除：{deleted}",
	"notice.syncFailed": "Dinox：同步失败！\n{error}",
	"notice.syncReset": "Dinox：同步状态已重置。下次将全量获取。",
	"notice.syncCommandFailed": "Dinox：同步失败 - {error}",
	"notice.processNoteFailed": "处理 Dinox 笔记 {noteId}… 失败",
	"notice.selectionSending": "Dinox：正在发送所选内容…",
	"notice.selectionSent": "Dinox：内容发送成功。",
	"notice.selectionSendFailed": "Dinox：发送失败 - {message}",
	"notice.selectionSendError": "Dinox：发送出错 - {error}",
	"notice.creatingNote": "Dinox：正在 Dinox 中创建笔记…",
	"notice.createAlreadyHasId": "Dinox：当前笔记已包含 noteId，已跳过创建。",
	"notice.createSuccess": "Dinox：已成功创建笔记（ID：{noteId}…）",
	"notice.createFailed": "Dinox：创建笔记失败 - {message}",
	"notice.createError": "Dinox：创建笔记出错 - {error}",
	"notice.frontmatterError": "Dinox：更新 Frontmatter 时出错 - {error}",
	"notice.syncingNote": "Dinox：正在同步笔记到 Dinox…",
	"notice.syncNoId": "Dinox：无法同步，Frontmatter 中缺少 noteId 或 source_app_id。",
	"notice.syncNoteSuccess": "Dinox：笔记 {noteId}… 同步成功。",
	"notice.syncNoteFailed": "Dinox：同步笔记失败 - {message}",
	"notice.syncNoteError": "Dinox：同步笔记出错 - {error}",
	"notice.autoSyncEnabled": "Dinox：自动同步已开启。",
	"notice.autoSyncDisabled": "Dinox：自动同步已关闭。",
	"notice.dailyNotesDisabled": "Dinox：每日笔记整合已禁用。",
	"notice.dailyNotesPluginDisabled": "Dinox：请启用核心“每日笔记”插件以使用此功能。",
	"notice.dailyNotesUpdateFailed": "Dinox：更新每日笔记区块失败。",
	"notice.dailyNotesUpdated": "Dinox：已更新 {count} 个每日笔记。",
	"notice.dailyNotesMissingFile": "Dinox：未找到每日笔记且未启用自动创建。",
	"notice.dailyNoteOpenFailed": "Dinox：无法打开每日笔记。",
	"notice.resetDone": "Dinox 上次同步时间已重置。",
	"notice.invalidIgnoreKeyReverted": "忽略键无效，已恢复默认值。",
	"notice.invalidIgnoreKeySpaces": "忽略键无效：不能包含空格。",
	"notice.typeFoldersSame": "Dinox：Note 与 Material 子目录必须不同。",
	"notice.typeFoldersInvalidReverted": "Dinox：目录名非法，已恢复默认值。",
	"notice.typeFoldersTemplateMissing": "Dinox：已开启按类型分目录，但当前模板不包含 {{type}}，crawl 类型可能会被归到 note 目录。",
	"notice.hotkeySet": "Dinox：快捷键已设置为 {hotkey}。",
	"notice.hotkeyCleared": "Dinox：快捷键已清除。",
	"common.unknownError": "未知错误",
	"settings.title": "Dinox 同步设置",
	"settings.token.name": "Dinox 令牌",
	"settings.token.desc": "在 Dinox 应用中生成的 API 令牌。",
	"settings.token.placeholder": "请输入 Dinox 令牌",
	"settings.dir.name": "同步目录",
	"settings.dir.desc": "同步笔记将在此库内的目录中存放。",
	"settings.dir.placeholder": "例如：Dinox Notes",
	"settings.filenameHeading": "文件命名与归档",
	"settings.filename.name": "文件名格式",
	"settings.filename.desc": "选择同步文件的命名方式。",
	"settings.filename.optionId": "笔记 ID（推荐）",
	"settings.filename.optionTitle": "笔记标题（已净化）",
	"settings.filename.optionTime": "创建时间（YYYY-MM-DD HHmmss）",
	"settings.filename.optionTitleDate": "标题 + 创建日期（YYYY-MM-DD）",
	"settings.filename.optionTemplate": "自定义模板",
	"settings.filename.template.name": "文件名模板",
	"settings.filename.template.desc": "可用变量：{{title}}、{{createDate}}（YYYY-MM-DD）、{{createTime}}（HHmmss）、{{noteId}}。",
	"settings.filename.template.placeholder": "例如：{{title}} ({{createDate}})",
	"settings.layout.name": "文件结构",
	"settings.layout.desc": "选择笔记的存放方式。",
	"settings.layout.optionNested": "按日期分目录（基础目录/YYYY-MM-DD/文件.md）",
	"settings.layout.optionFlat": "平铺（基础目录/文件.md）",
	"settings.ignoreKey.name": "忽略同步属性键",
	"settings.ignoreKey.desc": "Frontmatter 中该键为 true 时跳过更新。",
	"settings.preserveKeys.name": "保留属性键",
	"settings.preserveKeys.desc": "逗号分隔的 Frontmatter 键，将保留原值。",
	"settings.preserveKeys.placeholder": "例如：tags, aliases, status, project",
	"settings.template.name": "内容模板（发送至 API）",
	"settings.template.desc": "同步请求时会将此模板传给 Dinox API。",
	"settings.autoSync.name": "启用自动同步",
	"settings.autoSync.desc": "Obsidian 开启期间每 30 分钟同步一次。",
	"settings.section.typeFolders": "按类型分目录",
	"settings.typeFolders.enable.name": "按 type 分目录",
	"settings.typeFolders.enable.desc": "根据 Dinox 笔记的 type 字段将同步文件保存到不同的子目录。",
	"settings.typeFolders.note.name": "Note 子目录",
	"settings.typeFolders.note.desc": "type 为空/\"note\" 时使用的子目录名（相对于同步目录）。",
	"settings.typeFolders.material.name": "Material 子目录",
	"settings.typeFolders.material.desc": "type 为 \"crawl\" 时使用的子目录名（相对于同步目录）。",
	"settings.section.zettelBoxFolders": "按卡片盒分目录",
	"settings.zettelBoxFolders.enable.name": "按卡片盒分组",
	"settings.zettelBoxFolders.enable.desc": "根据笔记的第一个卡片盒名称（zettelboxexes[0].name）保存到不同子目录。",
	"settings.section.dailyNotes": "每日笔记",
	"settings.dailyNotes.enable.name": "启用每日笔记整合",
	"settings.dailyNotes.enable.desc": "将同步的 Dinox 笔记写入核心每日笔记页面。",
	"settings.dailyNotes.heading.name": "区块标题",
	"settings.dailyNotes.heading.desc": "在每日笔记中插入于 Dinox 区块上方的标题。",
	"settings.dailyNotes.position.name": "插入位置",
	"settings.dailyNotes.position.desc": "决定新的条目在区块中的排列位置。",
	"settings.dailyNotes.position.top": "顶部（最新优先）",
	"settings.dailyNotes.position.bottom": "底部（最旧优先）",
	"settings.dailyNotes.linkStyle.name": "链接样式",
	"settings.dailyNotes.linkStyle.desc": "选择使用链接列表或嵌入整个笔记。",
	"settings.dailyNotes.linkStyle.wikilink": "维基链接列表",
	"settings.dailyNotes.linkStyle.embed": "嵌入完整笔记",
	"settings.dailyNotes.preview.name": "显示内容预览",
	"settings.dailyNotes.preview.desc": "在每个条目下方引用笔记的首行内容。",
	"settings.dailyNotes.create.name": "缺失时自动创建",
	"settings.dailyNotes.create.desc": "每日笔记不存在时使用核心模板自动创建。",
	"settings.section.hotkeys": "快捷键",
	"settings.hotkeys.syncAll.name": "手动同步命令",
	"settings.hotkeys.syncAll.desc": "运行“立即同步 Dinox 笔记”。示例：Mod+Shift+T。",
	"settings.hotkeys.syncCurrent.name": "同步当前笔记命令",
	"settings.hotkeys.syncCurrent.desc": "将当前笔记推送至 Dinox。示例：Mod+Shift+K。",
	"settings.hotkeys.create.name": "在 Dinox 创建笔记命令",
	"settings.hotkeys.create.desc": "当文件没有 noteId 时在 Dinox 创建笔记。示例：Mod+Shift+C。",
	"settings.hotkeys.notSet": "未设置",
	"settings.hotkeys.prompt": "请按下快捷键…（Esc 取消）",
	"settings.hotkeys.setButton": "设置",
	"settings.hotkeys.clearButton": "清除",
	"settings.hotkeys.setTooltip": "捕获快捷键",
	"settings.hotkeys.clearTooltip": "移除快捷键",
	"settings.section.advanced": "高级",
	"settings.advanced.reset.name": "重置同步状态",
	"settings.advanced.reset.desc": "清除上次同步时间，下次将重新获取所有笔记。",
	"settings.advanced.resetButton": "重置同步时间",
	"settings.advanced.confirm": "确定要重置 Dinox 上次同步时间吗？下次将全量获取。",
	"settings.advanced.preset.yesterday": "昨天",
	"settings.advanced.preset.threeDays": "三天前",
	"settings.advanced.preset.oneWeek": "一周前",
	"settings.advanced.preset.oneMonth": "一月前",
	"settings.advanced.preset.start": "起始时间",
});

const zhTW = createTranslation({
	"statusBar.text": "Dinox",
	"statusBar.ariaLabel": "Dinox 同步狀態",
	"statusBar.syncing": "Dinox：正在同步…",
	"command.syncAll": "立即同步 Dinox 筆記",
	"command.resetSync": "重設 Dinox 同步（下次全量擷取）",
	"command.syncToLocal": "將 Dinox 筆記同步到本地",
	"command.syncCurrentNote": "同步目前筆記到 Dinox",
	"command.createNote": "將目前筆記建立到 Dinox",
	"command.openDailyNote": "開啟今日 Dinox 日誌",
	"menu.sendSelection": "傳送「{selection}」至 Dinox",
	"menu.create": "在 Dinox 中建立",
	"menu.syncCurrent": "將此筆記同步到 Dinox",
	"notice.syncInProgress": "Dinox：同步已在進行中。",
	"notice.tokenMissing": "Dinox：請先在設定中配置權杖。",
	"notice.syncStarting": "Dinox：正在開始同步…",
	"notice.syncComplete": "Dinox：同步完成！\n已處理：{processed}，已刪除：{deleted}",
	"notice.syncFailed": "Dinox：同步失敗！\n{error}",
	"notice.syncReset": "Dinox：同步狀態已重設。下次將全量擷取。",
	"notice.syncCommandFailed": "Dinox：同步失敗 - {error}",
	"notice.processNoteFailed": "處理 Dinox 筆記 {noteId}… 失敗",
	"notice.selectionSending": "Dinox：正在傳送所選內容…",
	"notice.selectionSent": "Dinox：內容傳送成功。",
	"notice.selectionSendFailed": "Dinox：傳送失敗 - {message}",
	"notice.selectionSendError": "Dinox：傳送發生錯誤 - {error}",
	"notice.creatingNote": "Dinox：正在 Dinox 中建立筆記…",
	"notice.createAlreadyHasId": "Dinox：目前筆記已包含 noteId，已跳過建立。",
	"notice.createSuccess": "Dinox：已成功建立筆記（ID：{noteId}…）",
	"notice.createFailed": "Dinox：建立筆記失敗 - {message}",
	"notice.createError": "Dinox：建立筆記發生錯誤 - {error}",
	"notice.frontmatterError": "Dinox：更新 Frontmatter 時發生錯誤 - {error}",
	"notice.syncingNote": "Dinox：正在同步筆記到 Dinox…",
	"notice.syncNoId": "Dinox：無法同步，Frontmatter 中缺少 noteId 或 source_app_id。",
	"notice.syncNoteSuccess": "Dinox：筆記 {noteId}… 同步成功。",
	"notice.syncNoteFailed": "Dinox：同步筆記失敗 - {message}",
	"notice.syncNoteError": "Dinox：同步筆記發生錯誤 - {error}",
	"notice.autoSyncEnabled": "Dinox：自動同步已開啟。",
	"notice.autoSyncDisabled": "Dinox：自動同步已關閉。",
	"notice.dailyNotesDisabled": "Dinox：每日筆記整合已停用。",
	"notice.dailyNotesPluginDisabled": "Dinox：請啟用核心「每日筆記」外掛以使用此功能。",
	"notice.dailyNotesUpdateFailed": "Dinox：更新每日筆記區塊失敗。",
	"notice.dailyNotesUpdated": "Dinox：已更新 {count} 個每日筆記。",
	"notice.dailyNotesMissingFile": "Dinox：找不到每日筆記且未啟用自動建立。",
	"notice.dailyNoteOpenFailed": "Dinox：無法開啟每日筆記。",
	"notice.resetDone": "Dinox 上次同步時間已重設。",
	"notice.invalidIgnoreKeyReverted": "忽略鍵無效，已恢復為預設值。",
	"notice.invalidIgnoreKeySpaces": "忽略鍵無效：不可包含空白。",
	"notice.typeFoldersSame": "Dinox：Note 與 Material 子目錄必須不同。",
	"notice.typeFoldersInvalidReverted": "Dinox：目錄名稱無效，已恢復為預設值。",
	"notice.typeFoldersTemplateMissing": "Dinox：已啟用按類型分資料夾，但目前模板不包含 {{type}}，crawl 類型可能會被歸到 note 資料夾。",
	"notice.hotkeySet": "Dinox：快捷鍵已設定為 {hotkey}。",
	"notice.hotkeyCleared": "Dinox：快捷鍵已清除。",
	"common.unknownError": "未知錯誤",
	"settings.title": "Dinox 同步設定",
	"settings.token.name": "Dinox 權杖",
	"settings.token.desc": "在 Dinox 應用中產生的 API 權杖。",
	"settings.token.placeholder": "請輸入 Dinox 權杖",
	"settings.dir.name": "同步目錄",
	"settings.dir.desc": "同步筆記將儲存在此 Vault 中的資料夾。",
	"settings.dir.placeholder": "例：Dinox Notes",
	"settings.filenameHeading": "檔名與歸檔",
	"settings.filename.name": "檔名格式",
	"settings.filename.desc": "選擇同步檔案的命名方式。",
	"settings.filename.optionId": "筆記 ID（建議）",
	"settings.filename.optionTitle": "筆記標題（經淨化）",
	"settings.filename.optionTime": "建立時間（YYYY-MM-DD HHmmss）",
	"settings.filename.optionTitleDate": "標題 + 建立日期（YYYY-MM-DD）",
	"settings.filename.optionTemplate": "自訂模板",
	"settings.filename.template.name": "檔名模板",
	"settings.filename.template.desc": "可用變數：{{title}}、{{createDate}}（YYYY-MM-DD）、{{createTime}}（HHmmss）、{{noteId}}。",
	"settings.filename.template.placeholder": "例如：{{title}} ({{createDate}})",
	"settings.layout.name": "檔案結構",
	"settings.layout.desc": "選擇筆記的存放方式。",
	"settings.layout.optionNested": "依日期分資料夾（基礎目錄/YYYY-MM-DD/檔案.md）",
	"settings.layout.optionFlat": "平鋪（基礎目錄/檔案.md）",
	"settings.ignoreKey.name": "忽略同步屬性鍵",
	"settings.ignoreKey.desc": "Frontmatter 中此鍵為 true 時將略過更新。",
	"settings.preserveKeys.name": "保留屬性鍵",
	"settings.preserveKeys.desc": "以逗號分隔的 Frontmatter 鍵，保留其原始值。",
	"settings.preserveKeys.placeholder": "例：tags, aliases, status, project",
	"settings.template.name": "內容模板（送往 API）",
	"settings.template.desc": "同步請求時會將此模板傳給 Dinox API。",
	"settings.autoSync.name": "啟用自動同步",
	"settings.autoSync.desc": "Obsidian 開啟期間每 30 分鐘同步一次。",
	"settings.section.typeFolders": "按類型分資料夾",
	"settings.typeFolders.enable.name": "按 type 分資料夾",
	"settings.typeFolders.enable.desc": "根據 Dinox 筆記的 type 欄位將同步檔案保存到不同的子目錄。",
	"settings.typeFolders.note.name": "Note 子目錄",
	"settings.typeFolders.note.desc": "type 為空/\"note\" 時使用的子目錄名稱（相對於同步目錄）。",
	"settings.typeFolders.material.name": "Material 子目錄",
	"settings.typeFolders.material.desc": "type 為 \"crawl\" 時使用的子目錄名稱（相對於同步目錄）。",
	"settings.section.zettelBoxFolders": "按卡片盒分資料夾",
	"settings.zettelBoxFolders.enable.name": "按卡片盒分組",
	"settings.zettelBoxFolders.enable.desc": "根據筆記的第一個卡片盒名稱（zettelboxexes[0].name）保存到不同子資料夾。",
	"settings.section.dailyNotes": "每日筆記",
	"settings.dailyNotes.enable.name": "啟用每日筆記整合",
	"settings.dailyNotes.enable.desc": "將同步的 Dinox 筆記寫入核心每日筆記頁面。",
	"settings.dailyNotes.heading.name": "區塊標題",
	"settings.dailyNotes.heading.desc": "顯示在每日筆記中 Dinox 區塊上方的標題。",
	"settings.dailyNotes.position.name": "插入位置",
	"settings.dailyNotes.position.desc": "決定新條目在區塊內的排序方式。",
	"settings.dailyNotes.position.top": "頂端（最新優先）",
	"settings.dailyNotes.position.bottom": "底部（最舊優先）",
	"settings.dailyNotes.linkStyle.name": "連結樣式",
	"settings.dailyNotes.linkStyle.desc": "選擇使用連結清單或嵌入整份筆記。",
	"settings.dailyNotes.linkStyle.wikilink": "維基連結清單",
	"settings.dailyNotes.linkStyle.embed": "嵌入完整筆記",
	"settings.dailyNotes.preview.name": "顯示內容預覽",
	"settings.dailyNotes.preview.desc": "在每個條目下方引用筆記的首行內容。",
	"settings.dailyNotes.create.name": "缺少時自動建立",
	"settings.dailyNotes.create.desc": "每日筆記不存在時使用核心模板自動建立。",
	"settings.section.hotkeys": "快捷鍵",
	"settings.hotkeys.syncAll.name": "手動同步指令",
	"settings.hotkeys.syncAll.desc": "執行「立即同步 Dinox 筆記」。示例：Mod+Shift+T。",
	"settings.hotkeys.syncCurrent.name": "同步目前筆記指令",
	"settings.hotkeys.syncCurrent.desc": "將目前筆記推送至 Dinox。示例：Mod+Shift+K。",
	"settings.hotkeys.create.name": "在 Dinox 建立筆記指令",
	"settings.hotkeys.create.desc": "當檔案沒有 noteId 時在 Dinox 建立筆記。示例：Mod+Shift+C。",
	"settings.hotkeys.notSet": "未設定",
	"settings.hotkeys.prompt": "請按下快捷鍵…（Esc 取消）",
	"settings.hotkeys.setButton": "設定",
	"settings.hotkeys.clearButton": "清除",
	"settings.hotkeys.setTooltip": "擷取快捷鍵",
	"settings.hotkeys.clearTooltip": "移除快捷鍵",
	"settings.section.advanced": "進階",
	"settings.advanced.reset.name": "重設同步狀態",
	"settings.advanced.reset.desc": "清除上次同步時間，下次將重新擷取所有筆記。",
	"settings.advanced.resetButton": "重設同步時間",
	"settings.advanced.confirm": "確定要重設 Dinox 上次同步時間嗎？下次將全量擷取。",
	"settings.advanced.preset.yesterday": "昨天",
	"settings.advanced.preset.threeDays": "三天前",
	"settings.advanced.preset.oneWeek": "一週前",
	"settings.advanced.preset.oneMonth": "一個月前",
	"settings.advanced.preset.start": "起始時間",
});

const ja = createTranslation({
	"statusBar.text": "Dinox",
	"statusBar.ariaLabel": "Dinox 同期ステータス",
	"statusBar.syncing": "Dinox：同期中…",
	"command.syncAll": "Dinox ノートを今すぐ同期",
	"command.resetSync": "Dinox 同期をリセット（次回は全件取得）",
	"command.syncToLocal": "Dinox ノートをローカルに同期",
	"command.syncCurrentNote": "現在のノートを Dinox に同期",
	"command.createNote": "現在のノートを Dinox に作成",
	"command.openDailyNote": "Open today's Dinox daily note",
	"menu.sendSelection": "「{selection}」を Dinox に送信",
	"menu.create": "Dinox に作成",
	"menu.syncCurrent": "このノートを Dinox に同期",
	"notice.syncInProgress": "Dinox：同期はすでに進行中です。",
	"notice.tokenMissing": "Dinox：設定で Dinox トークンを設定してください。",
	"notice.syncStarting": "Dinox：同期を開始しています…",
	"notice.syncComplete": "Dinox：同期が完了しました！\n処理済み：{processed}、削除：{deleted}",
	"notice.syncFailed": "Dinox：同期に失敗しました！\n{error}",
	"notice.syncReset": "Dinox：同期状態をリセットしました。次回は全件取得します。",
	"notice.syncCommandFailed": "Dinox：同期に失敗しました - {error}",
	"notice.processNoteFailed": "Dinox ノート {noteId}… の処理に失敗しました",
	"notice.selectionSending": "Dinox：選択内容を送信しています…",
	"notice.selectionSent": "Dinox：内容を送信しました。",
	"notice.selectionSendFailed": "Dinox：送信に失敗しました - {message}",
	"notice.selectionSendError": "Dinox：送信中にエラーが発生しました - {error}",
	"notice.creatingNote": "Dinox：Dinox にノートを作成しています…",
	"notice.createAlreadyHasId": "Dinox：このノートには noteId が既にあります。作成をスキップしました。",
	"notice.createSuccess": "Dinox：ノートを作成しました（ID：{noteId}…）",
	"notice.createFailed": "Dinox：ノートの作成に失敗しました - {message}",
	"notice.createError": "Dinox：ノート作成時にエラーが発生しました - {error}",
	"notice.frontmatterError": "Dinox：Frontmatter の更新でエラーが発生しました - {error}",
	"notice.syncingNote": "Dinox：ノートを Dinox に同期しています…",
	"notice.syncNoId": "Dinox：同期できません。Frontmatter に noteId または source_app_id がありません。",
	"notice.syncNoteSuccess": "Dinox：ノート {noteId}… を同期しました。",
	"notice.syncNoteFailed": "Dinox：ノートの同期に失敗しました - {message}",
	"notice.syncNoteError": "Dinox：ノート同期時にエラーが発生しました - {error}",
	"notice.autoSyncEnabled": "Dinox：自動同期を有効にしました。",
	"notice.autoSyncDisabled": "Dinox：自動同期を無効にしました。",
	"notice.dailyNotesDisabled": "Dinox: Daily notes integration is disabled.",
	"notice.dailyNotesPluginDisabled": "Dinox: Enable the core Daily Notes plugin to use this feature.",
	"notice.dailyNotesUpdateFailed": "Dinox: Failed to update the daily note section.",
	"notice.dailyNotesUpdated": "Dinox: Updated {count} daily note(s).",
	"notice.dailyNotesMissingFile": "Dinox: Daily note not found and auto-create is disabled.",
	"notice.dailyNoteOpenFailed": "Dinox: Unable to open the daily note.",
	"notice.resetDone": "Dinox の最終同期時刻をリセットしました。",
	"notice.invalidIgnoreKeyReverted": "無効な無視キーです。既定値に戻しました。",
	"notice.invalidIgnoreKeySpaces": "無効な無視キーです：スペースを含めることはできません。",
	"notice.typeFoldersSame": "Dinox：Note と Material のフォルダ名は異なる必要があります。",
	"notice.typeFoldersInvalidReverted": "Dinox：無効なフォルダ名です。既定値に戻しました。",
	"notice.typeFoldersTemplateMissing": "Dinox：タイプ別フォルダが有効ですが、テンプレートに {{type}} が含まれていません。crawl は note フォルダに保存される可能性があります。",
	"notice.hotkeySet": "Dinox：ショートカットを {hotkey} に設定しました。",
	"notice.hotkeyCleared": "Dinox：ショートカットを解除しました。",
	"common.unknownError": "不明なエラー",
	"settings.title": "Dinox 同期設定",
	"settings.token.name": "Dinox トークン",
	"settings.token.desc": "Dinox アプリで発行した API トークンです。",
	"settings.token.placeholder": "Dinox トークンを入力してください",
	"settings.dir.name": "同期ディレクトリ",
	"settings.dir.desc": "同期されたノートを保存するボルト内のフォルダです。",
	"settings.dir.placeholder": "例：Dinox Notes",
	"settings.filenameHeading": "ファイル名と整理",
	"settings.filename.name": "ファイル名の形式",
	"settings.filename.desc": "同期されたファイル名の形式を選択します。",
	"settings.filename.optionId": "ノート ID（推奨）",
	"settings.filename.optionTitle": "ノートタイトル（整形済み）",
	"settings.filename.optionTime": "作成日時（YYYY-MM-DD HHmmss）",
	"settings.filename.optionTitleDate": "タイトル + 作成日（YYYY-MM-DD）",
	"settings.filename.optionTemplate": "カスタムテンプレート",
	"settings.filename.template.name": "ファイル名テンプレート",
	"settings.filename.template.desc": "{{title}}、{{createDate}}（YYYY-MM-DD）、{{createTime}}（HHmmss）、{{noteId}} などの変数を使用できます。",
	"settings.filename.template.placeholder": "例：{{title}} ({{createDate}})",
	"settings.layout.name": "ファイル構成",
	"settings.layout.desc": "同期したノートの配置方法を選択します。",
	"settings.layout.optionNested": "日付ごと（基底フォルダ/YYYY-MM-DD/file.md）",
	"settings.layout.optionFlat": "フラット（基底フォルダ/file.md）",
	"settings.ignoreKey.name": "同期無視プロパティキー",
	"settings.ignoreKey.desc": "Frontmatter でこのキーが true の場合は更新をスキップします。",
	"settings.preserveKeys.name": "保持するプロパティキー",
	"settings.preserveKeys.desc": "既存ノートから保持する Frontmatter キー（カンマ区切り）。",
	"settings.preserveKeys.placeholder": "例：tags, aliases, status, project",
	"settings.template.name": "内容テンプレート（API 送信）",
	"settings.template.desc": "同期要求時に Dinox API に送信するテンプレートです。",
	"settings.autoSync.name": "自動同期を有効にする",
	"settings.autoSync.desc": "Obsidian が開いている間、30 分ごとに同期します。",
	"settings.section.typeFolders": "タイプ別フォルダ",
	"settings.typeFolders.enable.name": "type で振り分け",
	"settings.typeFolders.enable.desc": "Dinox ノートの type フィールドに基づいて、同期ファイルを別のサブフォルダに保存します。",
	"settings.typeFolders.note.name": "Note フォルダ",
	"settings.typeFolders.note.desc": "type が空/\"note\" の場合に使用する同期ディレクトリ配下のサブフォルダ名。",
	"settings.typeFolders.material.name": "Material フォルダ",
	"settings.typeFolders.material.desc": "type が \"crawl\" の場合に使用する同期ディレクトリ配下のサブフォルダ名。",
	"settings.section.zettelBoxFolders": "カードボックスフォルダ",
	"settings.zettelBoxFolders.enable.name": "カードボックスで分類",
	"settings.zettelBoxFolders.enable.desc": "最初のカードボックス名（zettelboxexes[0].name）に基づいてサブフォルダへ保存します。",
	"settings.section.dailyNotes": "Daily notes",
	"settings.dailyNotes.enable.name": "Enable daily note integration",
	"settings.dailyNotes.enable.desc": "Append synced Dinox notes into the core Daily Notes page.",
	"settings.dailyNotes.heading.name": "Section heading",
	"settings.dailyNotes.heading.desc": "Heading inserted above the Dinox block in each daily note.",
	"settings.dailyNotes.position.name": "Insert position",
	"settings.dailyNotes.position.desc": "Decide where new entries appear inside the managed section.",
	"settings.dailyNotes.position.top": "Top (newest first)",
	"settings.dailyNotes.position.bottom": "Bottom (oldest first)",
	"settings.dailyNotes.linkStyle.name": "Link style",
	"settings.dailyNotes.linkStyle.desc": "Choose between bullet links or embedded notes.",
	"settings.dailyNotes.linkStyle.wikilink": "Bullet list with wiki links",
	"settings.dailyNotes.linkStyle.embed": "Embed each note",
	"settings.dailyNotes.preview.name": "Show preview line",
	"settings.dailyNotes.preview.desc": "Add the first non-empty line under each entry as a quote.",
	"settings.dailyNotes.create.name": "Create note if missing",
	"settings.dailyNotes.create.desc": "Auto-create the daily note using the configured template when absent.",
	"settings.section.hotkeys": "ショートカット",
	"settings.hotkeys.syncAll.name": "手動同期コマンド",
	"settings.hotkeys.syncAll.desc": "「Dinox ノートを今すぐ同期」を実行します。例：Mod+Shift+T。",
	"settings.hotkeys.syncCurrent.name": "現在のノート同期コマンド",
	"settings.hotkeys.syncCurrent.desc": "現在のノートを Dinox に送信します。例：Mod+Shift+K。",
	"settings.hotkeys.create.name": "Dinox ノート作成コマンド",
	"settings.hotkeys.create.desc": "noteId がない場合に Dinox にノートを作成します。例：Mod+Shift+C。",
	"settings.hotkeys.notSet": "未設定",
	"settings.hotkeys.prompt": "ショートカットを押してください…（Esc でキャンセル）",
	"settings.hotkeys.setButton": "設定",
	"settings.hotkeys.clearButton": "クリア",
	"settings.hotkeys.setTooltip": "ショートカットを取得",
	"settings.hotkeys.clearTooltip": "ショートカットを削除",
	"settings.section.advanced": "詳細設定",
	"settings.advanced.reset.name": "同期状態をリセット",
	"settings.advanced.reset.desc": "最終同期時刻を削除し、次回にノートを再取得します。",
	"settings.advanced.resetButton": "同期時間をリセット",
	"settings.advanced.confirm": "Dinox の最終同期時間をリセットしますか？次回は全件取得されます。",
	"settings.advanced.preset.yesterday": "昨日",
	"settings.advanced.preset.threeDays": "3日前",
	"settings.advanced.preset.oneWeek": "1週間前",
	"settings.advanced.preset.oneMonth": "1か月前",
	"settings.advanced.preset.start": "最初から",
});

const ko = createTranslation({
	"statusBar.text": "Dinox",
	"statusBar.ariaLabel": "Dinox 동기화 상태",
	"statusBar.syncing": "Dinox: 동기화 중…",
	"command.syncAll": "Dinox 노트를 지금 동기화",
	"command.resetSync": "Dinox 동기화 초기화 (다음에 전체 가져오기)",
	"command.syncToLocal": "Dinox 노트를 로컬에 동기화",
	"command.syncCurrentNote": "현재 노트를 Dinox 로 동기화",
	"command.createNote": "현재 노트를 Dinox 에 생성",
	"command.openDailyNote": "오늘 Dinox 데일리 노트 열기",
	"menu.sendSelection": "선택한“{selection}”을 Dinox 로 보내기",
	"menu.create": "Dinox 에서 만들기",
	"menu.syncCurrent": "이 노트를 Dinox 로 동기화",
	"notice.syncInProgress": "Dinox: 동기화가 이미 진행 중입니다.",
	"notice.tokenMissing": "Dinox: 설정에서 Dinox 토큰을 먼저 설정해주세요.",
	"notice.syncStarting": "Dinox: 동기화를 시작합니다…",
	"notice.syncComplete": "Dinox: 동기화 완료!\n처리: {processed}건, 삭제: {deleted}건",
	"notice.syncFailed": "Dinox: 동기화 실패!\n{error}",
	"notice.syncReset": "Dinox: 동기화 상태를 초기화했습니다. 다음 동기화는 전체를 가져옵니다.",
	"notice.syncCommandFailed": "Dinox: 동기화 실패 - {error}",
	"notice.processNoteFailed": "Dinox 노트 {noteId}… 처리에 실패했습니다",
	"notice.selectionSending": "Dinox: 선택한 내용을 전송 중…",
	"notice.selectionSent": "Dinox: 내용을 전송했습니다.",
	"notice.selectionSendFailed": "Dinox: 전송 실패 - {message}",
	"notice.selectionSendError": "Dinox: 전송 중 오류 - {error}",
	"notice.creatingNote": "Dinox: Dinox 에 노트를 생성 중…",
	"notice.createAlreadyHasId": "Dinox: 현재 노트에 noteId 가 이미 있어 생성을 건너뜁니다.",
	"notice.createSuccess": "Dinox: 노트를 생성했습니다 (ID: {noteId}…)",
	"notice.createFailed": "Dinox: 노트 생성 실패 - {message}",
	"notice.createError": "Dinox: 노트 생성 중 오류 - {error}",
	"notice.frontmatterError": "Dinox: 프론트매터 업데이트 오류 - {error}",
	"notice.syncingNote": "Dinox: 노트를 Dinox 로 동기화 중…",
	"notice.syncNoId": "Dinox: 동기화할 수 없습니다. 프론트매터에 noteId 또는 source_app_id 가 없습니다.",
	"notice.syncNoteSuccess": "Dinox: 노트 {noteId}… 동기화 완료.",
	"notice.syncNoteFailed": "Dinox: 노트 동기화 실패 - {message}",
	"notice.syncNoteError": "Dinox: 노트 동기화 중 오류 - {error}",
	"notice.autoSyncEnabled": "Dinox: 자동 동기화를 켰습니다.",
	"notice.autoSyncDisabled": "Dinox: 자동 동기화를 껐습니다.",
	"notice.dailyNotesDisabled": "Dinox: 데일리 노트 연동이 비활성화되어 있습니다.",
	"notice.dailyNotesPluginDisabled": "Dinox: 이 기능을 사용하려면 기본 Daily Notes 플러그인을 활성화하세요.",
	"notice.dailyNotesUpdateFailed": "Dinox: 데일리 노트 섹션을 업데이트하지 못했습니다.",
	"notice.dailyNotesUpdated": "Dinox: 데일리 노트 {count}개를 업데이트했습니다.",
	"notice.dailyNotesMissingFile": "Dinox: 데일리 노트를 찾을 수 없고 자동 생성이 꺼져 있습니다.",
	"notice.dailyNoteOpenFailed": "Dinox: 데일리 노트를 열 수 없습니다.",
	"notice.resetDone": "Dinox 최근 동기화 시간이 초기화되었습니다.",
	"notice.invalidIgnoreKeyReverted": "무시 키가 잘못되었습니다. 기본값으로 되돌립니다.",
	"notice.invalidIgnoreKeySpaces": "무시 키가 잘못되었습니다: 공백을 포함할 수 없습니다.",
	"notice.typeFoldersSame": "Dinox: Note 와 Material 폴더는 서로 달라야 합니다.",
	"notice.typeFoldersInvalidReverted": "Dinox: 잘못된 폴더 이름입니다. 기본값으로 되돌립니다.",
	"notice.typeFoldersTemplateMissing": "Dinox: 유형별 폴더가 켜져 있지만 템플릿에 {{type}} 이(가) 없습니다. crawl 유형이 note 폴더에 저장될 수 있습니다.",
	"notice.hotkeySet": "Dinox: 단축키를 {hotkey}로 설정했습니다.",
	"notice.hotkeyCleared": "Dinox: 단축키를 해제했습니다.",
	"common.unknownError": "알 수 없는 오류",
	"settings.title": "Dinox 동기화 설정",
	"settings.token.name": "Dinox 토큰",
	"settings.token.desc": "Dinox 애플리케이션에서 발급한 API 토큰입니다.",
	"settings.token.placeholder": "Dinox 토큰을 입력하세요",
	"settings.dir.name": "동기화 디렉터리",
	"settings.dir.desc": "동기화된 노트를 저장할 볼트 내 폴더입니다.",
	"settings.dir.placeholder": "예: Dinox Notes",
	"settings.filenameHeading": "파일 이름 및 구조",
	"settings.filename.name": "파일 이름 형식",
	"settings.filename.desc": "동기화된 파일의 이름 형식을 선택합니다.",
	"settings.filename.optionId": "노트 ID(권장)",
	"settings.filename.optionTitle": "노트 제목 (정제됨)",
	"settings.filename.optionTime": "작성 시간 (YYYY-MM-DD HHmmss)",
	"settings.filename.optionTitleDate": "제목 + 작성일 (YYYY-MM-DD)",
	"settings.filename.optionTemplate": "사용자 지정 템플릿",
	"settings.filename.template.name": "파일명 템플릿",
	"settings.filename.template.desc": "{{title}}, {{createDate}}(YYYY-MM-DD), {{createTime}}(HHmmss), {{noteId}} 등의 변수를 사용할 수 있습니다.",
	"settings.filename.template.placeholder": "예: {{title}} ({{createDate}})",
	"settings.layout.name": "파일 구조",
	"settings.layout.desc": "동기화된 노트의 저장 방식을 선택합니다.",
	"settings.layout.optionNested": "날짜별 폴더 (기본/연 - 월 - 일/파일.md)",
	"settings.layout.optionFlat": "단일 폴더 (기본/파일.md)",
	"settings.ignoreKey.name": "동기화 무시 속성 키",
	"settings.ignoreKey.desc": "프론트매터에서 해당 키가 true 이면 업데이트를 건너뜁니다.",
	"settings.preserveKeys.name": "보존할 속성 키",
	"settings.preserveKeys.desc": "기존 노트에서 유지할 프론트매터 키 (쉼표로 구분).",
	"settings.preserveKeys.placeholder": "예: tags, aliases, status, project",
	"settings.template.name": "콘텐츠 템플릿 ( API 전송 )",
	"settings.template.desc": "동기화 요청 시 Dinox API 에 전달되는 템플릿입니다.",
	"settings.autoSync.name": "자동 동기화 활성화",
	"settings.autoSync.desc": "Obsidian 이 열려 있는 동안 30 분마다 자동으로 동기화합니다.",
	"settings.section.typeFolders": "유형별 폴더",
	"settings.typeFolders.enable.name": "type 로 분리",
	"settings.typeFolders.enable.desc": "Dinox 노트의 type 필드에 따라 동기화 파일을 서로 다른 하위 폴더에 저장합니다.",
	"settings.typeFolders.note.name": "Note 폴더",
	"settings.typeFolders.note.desc": "type 이 비어있거나 \"note\" 인 경우 사용할 동기화 디렉터리 하위 폴더 이름입니다.",
	"settings.typeFolders.material.name": "Material 폴더",
	"settings.typeFolders.material.desc": "type 이 \"crawl\" 인 경우 사용할 동기화 디렉터리 하위 폴더 이름입니다.",
	"settings.section.zettelBoxFolders": "카드박스 폴더",
	"settings.zettelBoxFolders.enable.name": "카드박스로 분류",
	"settings.zettelBoxFolders.enable.desc": "첫 번째 카드박스 이름(zettelboxexes[0].name)에 따라 하위 폴더에 저장합니다.",
	"settings.section.dailyNotes": "데일리 노트",
	"settings.dailyNotes.enable.name": "데일리 노트 연동 사용",
	"settings.dailyNotes.enable.desc": "동기화된 Dinox 노트를 기본 Daily Notes 페이지에 추가합니다.",
	"settings.dailyNotes.heading.name": "섹션 제목",
	"settings.dailyNotes.heading.desc": "각 데일리 노트에서 Dinox 블록 위에 표시할 제목입니다.",
	"settings.dailyNotes.position.name": "삽입 위치",
	"settings.dailyNotes.position.desc": "새 항목을 섹션의 어디에 배치할지 선택합니다.",
	"settings.dailyNotes.position.top": "상단 (최신 우선)",
	"settings.dailyNotes.position.bottom": "하단 (가장 오래된 순)",
	"settings.dailyNotes.linkStyle.name": "링크 형식",
	"settings.dailyNotes.linkStyle.desc": "링크 목록 또는 노트 임베드 중 하나를 선택합니다.",
	"settings.dailyNotes.linkStyle.wikilink": "위키 링크 목록",
	"settings.dailyNotes.linkStyle.embed": "노트를 임베드",
	"settings.dailyNotes.preview.name": "미리 보기 표시",
	"settings.dailyNotes.preview.desc": "각 항목 아래에 노트 첫 줄을 인용하여 표시합니다.",
	"settings.dailyNotes.create.name": "없을 때 자동 생성",
	"settings.dailyNotes.create.desc": "데일리 노트가 없으면 기본 템플릿으로 자동 생성합니다.",
	"settings.section.hotkeys": "단축키",
	"settings.hotkeys.syncAll.name": "수동 동기화 명령",
	"settings.hotkeys.syncAll.desc": "“Dinox 노트를 지금 동기화”를 실행합니다. 예: Mod+Shift+T.",
	"settings.hotkeys.syncCurrent.name": "현재 노트 동기화 명령",
	"settings.hotkeys.syncCurrent.desc": "현재 노트를 Dinox 로 보냅니다. 예: Mod+Shift+K.",
	"settings.hotkeys.create.name": "Dinox 노트 생성 명령",
	"settings.hotkeys.create.desc": "noteId 가 없을 때 Dinox 에 노트를 생성합니다. 예: Mod+Shift+C.",
	"settings.hotkeys.notSet": "미설정",
	"settings.hotkeys.prompt": "단축키를 누르세요… (Esc 취소)",
	"settings.hotkeys.setButton": "설정",
	"settings.hotkeys.clearButton": "해제",
	"settings.hotkeys.setTooltip": "단축키 지정",
	"settings.hotkeys.clearTooltip": "단축키 삭제",
	"settings.section.advanced": "고급",
	"settings.advanced.reset.name": "동기화 상태 초기화",
	"settings.advanced.reset.desc": "마지막 동기화 시간을 지워 다음에 모든 노트를 다시 가져옵니다.",
	"settings.advanced.resetButton": "동기화 시간 초기화",
	"settings.advanced.confirm": "Dinox 마지막 동기화 시간을 초기화할까요? 다음 동기화에서 전체를 가져옵니다.",
	"settings.advanced.preset.yesterday": "어제",
	"settings.advanced.preset.threeDays": "3일 전",
	"settings.advanced.preset.oneWeek": "1주일 전",
	"settings.advanced.preset.oneMonth": "1개월 전",
	"settings.advanced.preset.start": "처음부터",
});

const translations: Record<LocaleCode, TranslationRecord> = {
	"en": en as TranslationRecord,
	"zh-CN": zhCN,
	"zh-TW": zhTW,
	"ja": ja,
	"ko": ko,
};

const fallbackLocale: LocaleCode = "en";

function normalizeLocale(value?: string | null): string {
	return (value || "").toLowerCase();
}

export function resolveLocale(locale?: string | null): LocaleCode {
	const normalized = normalizeLocale(locale);

	if (
		normalized.startsWith("zh-tw") ||
		normalized.startsWith("zh-hk") ||
		normalized.startsWith("zh-mo") ||
		normalized.includes("hant")
	) {
		return "zh-TW";
	}

	if (
		normalized.startsWith("zh") ||
		normalized.includes("hans")
	) {
		return "zh-CN";
	}

	if (normalized.startsWith("ja")) {
		return "ja";
	}

	if (normalized.startsWith("ko")) {
		return "ko";
	}

	return fallbackLocale;
}

export function getCurrentLocale(app: App): LocaleCode {
	const vaultConfig = app.vault as unknown as {
		getConfig?: (key: string) => unknown;
	};
	const configLocaleRaw = vaultConfig.getConfig?.("locale");
	const configLocale =
		typeof configLocaleRaw === "string" ? configLocaleRaw : undefined;
	const momentLocale =
		typeof window !== "undefined" &&
		// eslint-disable-next-line @typescript-eslint/no-explicit-any
		(window as any)?.moment &&
		// eslint-disable-next-line @typescript-eslint/no-explicit-any
		typeof (window as any).moment.locale === "function"
			// eslint-disable-next-line @typescript-eslint/no-explicit-any
			? ((window as any).moment.locale() as string)
			: undefined;
	const navigatorLocale =
		typeof navigator !== "undefined" ? navigator.language : undefined;

	return resolveLocale(configLocale ?? momentLocale ?? navigatorLocale);
}

export function translate(
	locale: LocaleCode,
	key: TranslationKey,
	vars?: TranslationVars
): string {
	const table = translations[locale] ?? translations[fallbackLocale];
	const template = table[key] ?? translations[fallbackLocale][key];
	if (!vars) {
		return template;
	}
	return template.replace(/\{(\w+)\}/g, (match, token) => {
		if (!(token in vars)) {
			return match;
		}
		return String(vars[token]);
	});
}
